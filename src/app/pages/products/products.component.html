@if (products$) {
  <div class="products-list">
    @for (product of products$ | async; track product) {
      <mat-card class="product-card" appearance="outlined">
        <mat-card-header>
          <mat-card-title>{{ product.title }}</mat-card-title>
          <mat-card-subtitle>{{ product.category }}</mat-card-subtitle>
        </mat-card-header>
        <img mat-card-image [src]="product.thumbnail" [alt]="product.title">
        <mat-card-content>
          <p class="product-description">{{ product.description }}</p>
        </mat-card-content>
        <mat-card-actions class="products-buttons">
          <button
            mat-flat-button
            (click)="addToCart(product, $event)"
            [disabled]="isInCart(product.id, favoriteIds$ | async)"
          >
            {{ isInCart(product.id, favoriteIds$ | async) ? 'Added' : 'Add' }}
          </button>
          <button
            mat-stroked-button
            routerLink="/product/{{ product.id }}"
          >
            More
          </button>
        </mat-card-actions>
      </mat-card>
    }
  </div>
}
